# Code Breaker Multiplayer Game (Go)

## Author: Mor Simha

---

##  About the Project

A multiplayer "Code Breaker" game written in Go. In this game, players must guess a secret 4-digit code generated by the server. The server returns feedback based on how accurate the guesses are.

The game supports:
- Single-player mode
- Multiplayer mode (2+ players)
- Docker and Kubernetes deployment
- CLI-based interaction

---

## Features

### Multiplayer
- Input validation (only 4-digit numbers accepted)
- Secret code generated using custom rules:
  - Even sum â†’ number reversed
  - Odd sum â†’ each digit incremented (9 wraps to 0)
  - Palindromes â†’ replaced with 7777
- Turn-based logic with 2 players per game
- Real-time feedback to both players
- Game restarts without reconnecting
- Optional: configurable number of players mechanisem (`--players=N`) (right now only relevant for 2 players game)

---

## ðŸ“¦ Deployment Guide

### 1. Pre-requisites

Install:

- Docker
- Git
- (Optional) Docker Compose
- (Optional) Kubernetes CLI (`kubectl`)

### 2. Clone the Project

```bash
git clone https://github.com/YOUR_USERNAME/YOUR_REPO.git
cd YOUR_REPO
git checkout -b YOURNAME_SURNAME
```

### 3. Build with Docker

```bash
docker build -t go-code-breaker -f Dockerfile .
```

### 4. Run Locally with Docker

Start the server:

```bash
docker run -p 8080:8080 go-code-breaker
```

Start a client:

```bash
docker build -t go-game-client -f Dockerfile.client .
docker run --add-host=host.docker.internal:host-gateway go-game-client
```

---

##  Docker Compose (Multiplayer Setup) (Bonus 6)

Use `docker-compose.yml` to spin up a server and 2 clients:

```bash
docker-compose up --build
```

- Logs:
```bash
docker logs game-client1
docker logs game-client2
```

- To attach:
```bash
docker attach game-client1
```

- To stop:
```bash
docker-compose down
```

---

## Kubernetes Deployment (Bonus 7)

1. Push your Docker images to Docker Hub
2. Apply the YAMLs:

```bash
kubectl apply -f game-server-deployment.yaml
kubectl apply -f game-client1-deployment.yaml
kubectl apply -f game-client2-deployment.yaml
```

3. Access service via NodePort or Minikube:

```bash
minikube service game-server-service
```

---

## Testing

Unit tests written in Go with edge case coverage:

```bash
go test ./...
```

- Mocks used to override random generation in tests
- Validates input, secret code logic, prefix logic, etc.

---

## Development

- All development should be done on your personal branch:
```bash
git checkout -b YOURNAME_SURNAME
git push origin YOURNAME_SURNAME
```

- Do not push to `main`
- Add meaningful commit messages

---

## Game Instructions

1. Start server (`server` mode)
2. Connect clients (`client` mode)
3. Each player guesses the 4-digit code on their turn
4. Server returns feedback (correct digits / correct positions)
5. Game ends when the code is broken
6. Game can be restarted automatically

---

## Example Commands

```bash
go run main.go server   # Start server
go run main.go client   # Connect as client
```

---

## Author Info

Full Name: Mor simha 
Branch: MOR_SIMHA_BRANCH

---